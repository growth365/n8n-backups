{"createdAt":"2025-06-20T05:20:53.508Z","updatedAt":"2025-06-20T06:41:02.000Z","id":"KSku43vhzyrXYgJh","name":"Shopify Inventory Automation","active":false,"isArchived":false,"nodes":[{"parameters":{"rule":{"interval":[{}]}},"name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","typeVersion":1,"position":[-120,200],"id":"367016ac-210d-42a7-b462-32b5f1cb8b3d"},{"parameters":{"authentication":"accessToken","operation":"getAll","options":{}},"name":"Shopify Get Sales Data","type":"n8n-nodes-base.shopify","typeVersion":1,"position":[180,420],"id":"3c0cd820-b41b-4d06-b5e9-c73bdf0c1e56","credentials":{"shopifyAccessTokenApi":{"id":"7ETOSHQiowAtl9In","name":"F2FShopee Shopify App"}}},{"parameters":{"authentication":"oAuth2","operation":"append","range":"Sheet1!A:D","options":{}},"name":"Update Google Sheet","type":"n8n-nodes-base.googleSheets","typeVersion":1,"position":[1760,40],"id":"e341fa85-74c8-44c2-b343-876bc6e0b5f6","credentials":{"googleSheetsOAuth2Api":{"id":"XboeqJMSiWXrx0jM","name":"Google Sheets account"}}},{"parameters":{"resource":"product","operation":"update","productId":"= {{$node['AI Processing'].json.output.map(item => item.productId)}}","updateFields":{}},"name":"Update Shopify Product","type":"n8n-nodes-base.shopify","typeVersion":1,"position":[1760,480],"id":"65a20b31-0058-4b82-a9c4-3955f9d87daa"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[1180,240],"id":"ef445da0-6fa3-463c-a227-49a62c03ced1","name":"AI Agent"},{"parameters":{"options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[1760,260],"id":"369ba8fc-4033-4eb0-bad0-0f45512d2308","name":"Gmail","webhookId":"bb42c5c6-b18d-40cb-ab86-f69fb4b8e169","credentials":{"gmailOAuth2":{"id":"fNK6sbXxhxSyGMpc","name":"Gmail account"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1140,480],"id":"5ccb3717-457c-4fa2-a4dd-cf2ea37a2cc0","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"ymYKSCRcQojB59Qh","name":"OpenAi account 2"}}},{"parameters":{"url":"https://c2e6f1-ec.myshopify.com/admin/api/2023-07/products.json","authentication":"predefinedCredentialType","nodeCredentialType":"shopifyAccessTokenApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"location_id","value":"70212583524"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[180,80],"id":"b8716da5-29e9-4609-b899-b5f1ed8fe3ae","name":"HTTP Request","credentials":{"httpHeaderAuth":{"id":"AguAXN58DYRSQBUf","name":"F2FShopee Access Token"},"shopifyAccessTokenApi":{"id":"7ETOSHQiowAtl9In","name":"F2FShopee Shopify App"}}},{"parameters":{"jsCode":"const products = $input.first().json.products || [];\nconst result = [];\n\nproducts.forEach(product => {\n  const { id: productId, handle } = product;\n  if (product.variants && Array.isArray(product.variants)) {\n    product.variants.forEach(variant => {\n      result.push({\n        productId,\n        handle,\n        variantId: variant.id,\n        inventory_item_id: variant.inventory_item_id,\n        inventory_qty: variant.inventory_quantity || 0\n      });\n    });\n  }\n});\n\nconsole.log(`Processed ${result.length} variants from ${products.length} products`);\nreturn result;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[600,80],"id":"d29e8f00-2543-468d-8841-4e4cb4650a4d","name":"Code"}],"connections":{"Schedule Trigger":{"main":[[{"node":"Shopify Get Sales Data","type":"main","index":0},{"node":"HTTP Request","type":"main","index":0}]]},"Shopify Get Sales Data":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"AI Agent":{"main":[[]]},"HTTP Request":{"main":[[{"node":"Code","type":"main","index":0}]]},"Code":{"main":[[{"node":"AI Agent","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"e3fb8636-f391-4b50-9640-f308ef19171a","triggerCount":0,"tags":[]}